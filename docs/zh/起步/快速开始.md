# 快速开始

## 安装

使用`npm`或`yarn`安装`axios-plus`：

```bash
# 使用npm
npm install axios-plus --save

# 使用yarn
yarn add axios-plus
```

::: tip 无侵入
当下载了`axios-plus`后，默认你就下载了`axios`作为依赖，无需额外安装。
:::

## 基本使用

```typescript {6,10-13,17,21-31}
@HttpApi({
  baseURL: 'http://localhost:3000/users',
})
class UserApi {
  // 等价于 axios.get('http://localhost:3000/users')
  @Get('/')
  getAllUsers(): any {}
  // 等价于 axios.get(`http://localhost:3000/users/${id}`)
  // 失败时请求重发次数为3
  @Get({
    url: '/:id',
    retry: 3,
  })
  getUserById(@PathParam('id') id: number): any {}

  // 允许请求体参数
  @Post('/')
  addUser(@BodyParam() data: { name: string; age: number }): any {}

  // 允许定义为mock接口
  @Get({
    url: '/page',
    mock: {
      handlers: () => {
        return HttpResponse.json({
          data: [1, 2, 3],
          total: 3,
        });
      },
    },
  })
  getPage(@QueryParam('page') page: number, @QueryParam('size') size: number): any {}
}
```

## 无侵入

如果你需要使用原生`axios`库，你可以直接导入`axiosPlus`，然后像使用`axios`一样使用`axiosPlus`，下面是一个拦截器的案例：

```typescript
import { axiosPlus } from 'axios-plus';
axiosPlus.interceptors.request.use(config => {
  console.log('请求拦截器', config);
  return config;
});
```
