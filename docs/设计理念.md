# 设计理念

[[toc]]

## 注解驱动

## 接口二义性，使用函数柯里化实现 mock

## 模板方法+工厂实现可自定义装饰器

## 装饰器（高阶函数）实现防抖节流

## 桥接模式（钢笔墨水问题）实现不同装饰器不同的处理流程

## 注入时支持单例原型、深克隆等，以及备份 inject

## 对于处理同一复杂对象采用了建造者模式来解决

## 职责链和可撤销代理和发布订阅版的 Aop，对于表达式的解析使用到了函数记忆

下步实现

1. 封装 faker.js 标签模板字符串 parse``
2. 封装 indexDB 实现像 MybatisPlus 那样的调用

数据 Mock 框架（DataFaker）：参与封装了一款基于 faker.js 的数据 mock 框架，其特点在于：

1. 声明式：DataFaker 提供了声明式的数据模板定义方式，并提供 ts 数据字段类型提示，简化用户数据模板定义
2. 面向模型：DataFaker 以数据模型为基本单元，封装了数据模板，并提供模型单例的克隆和修改机制，让模型能在复用的前提下最大限度适应环境变换。
3. 数据关联：DataFaker 沿用了 faker.js 的数据关联思想，通过上下文机制，让不同数据直接可以产生依赖，让用户生成数据更合理
4. 递归数据生成：DataFaker 有强大的自引用数据生成机制，只需要做简单的配置即可生成树状数据，减少用户心智负担
5. 组合式数据：DataFaker 支持基于回调的数据后处理机制,让生成的数据可与其它模型数据相组合，满足组合式要求
6. 个性化配置：DataFaker 支持数据生成规则配置，最大化满足你数据生成要求，并且约定大于配置。其中运行时配置优先级大于静态模板配置
7. 支持装饰器语法糖：DataFaker 还支持装饰器语法糖，可以在类上直接通过注解定义模型，并允许基于类的模型继承机制

所用设计模式：单例模式、建造者模式、模板方法模式、工厂方法模式、装饰器模式
关键技术：对象深拷贝，基于原型的继承，递归数据生成
